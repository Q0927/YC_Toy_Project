              include "bt_format "
              org 0x0000
0x0 000030 bbit1 8 ,pf_patch_ext 
0x1 000031 beq patch10_2 ,p_shutdown_radio 
0x2 000032 beq patch11_3 ,p_initialize_radio_cont 
0x3 000033 beq patch15_5 ,p_app_init 
0x4 000034 branch p_patch 
:      000036 pf_patch_ext:
0x5 000037 rtneq patch3f_7 
0x6 000038 beq patch26_0 ,p_vdd_calculate_by_mode 
0x7 000039 beq patch32_2 ,p_timer_init 
0x8 000040 beq patch32_3 ,p_timer_check 
0x9 000041 beq patch33_4 ,p_le_slave_match 
0xa 000042 beq patch33_6 ,p_le_slave_unsync 
0xb 000043 beq patch34_3 ,p_le_enable_phy_by_pdata 
0xc 000044 beq patch35_4 ,p_le_receive_on_attempt 
0xd 000045 branch p_patch_ext 
:      000048 p_idle_process:
0xe 000052 call enable_adc 
0xf 000053 call vdd_calculate_by_mode 
0x10 000054 store 2 ,mem_adc_voltage_result 
0x11 000055 branch p_idle_process_ext 
:      000059 p_cb_event_timer:
0x12 000060 branch p_cb_event_timer_ext 
:      000088 p_app_init_clear_memalloc:
0x13 000089 arg mem_memalloc_start ,contw 
0x14 000090 arg mem_memalloc_start ,temp 
0x15 000091 arg mem_memalloc_end ,pdata 
0x16 000092 isub temp ,loopcnt 
0x17 000093 branch clear_mem 
:      000097 p_app_init:
0x18 000100 call p_ldo_abb_en_init 
0x19 000101 call enable_authrom 
0x1a 000103 call p_app_init_clear_memalloc 
0x1b 000106 call p_mesh_uart_init 
0x1c 000111 jam adc_config_gpio ,mem_adc_config_flag 
0x1d 000112 jam adc_channel ,mem_adc_channel 
0x1e 000113 call p_adc_init_data 
0x1f 000114 branch p_app_init_ext 
:      000138 p_mesh_uart_init:
0x20 000139 call p_mesh_uart_init_buffer 
0x21 000140 arg uart_baud ,temp 
0x22 000141 call uartb_calc_baud_rate_config 
0x23 000142 call mesh_uart_init + 7 
:      000143 p_uart_gpio_set_init:
0x24 000144 jam gpcfg_uartb_txd ,core_gpio_conf + uart_tx_gpio 
0x25 000145 jam gpcfg_uartb_rxd | gpcfg_pullup ,core_gpio_conf + uart_rx_gpio 
0x26 000146 rtn 
:      000149 p_mesh_uart_init_buffer:
0x27 000150 setarg mem_uart_rx_buffer 
0x28 000151 store 2 ,mem_pdatatemp 
0x29 000152 setarg mem_uart_rx_buffer_end 
0x2a 000153 istore 2 ,contw 
0x2b 000154 setarg mem_uart_tx_buffer 
0x2c 000155 istore 2 ,contw 
0x2d 000156 setarg mem_uart_tx_buffer_end 
0x2e 000157 istore 2 ,contw 
0x2f 000158 fetch 8 ,mem_pdatatemp 
0x30 000159 branch uartb_init_dma_mem 
:      000170 p_24g_recv_ack_log:
0x31 000171 arg mem_24g_rxbuf + 2 ,rega 
0x32 000172 fetch 1 ,mem_24g_rxbuf + 1 
0x33 000173 rshift3 pdata ,loopcnt 
0x34 000174 arg logging_type_24g_recv_ack ,regb 
0x35 000175 branch logging_tx_info 
:      000178 p_gpio_config_output:
0x36 000179 setflip 7 ,temp 
0x37 000180 branch gpio_config_output 
:      000183 p_pwm_disable:
0x38 000184 fetch 1 ,core_pwm_en 
0x39 000185 qset0 pdata 
0x3a 000186 store 1 ,core_pwm_en 
0x3b 000187 rtn 
:      000197 p_initialize_radio_cont:
0x3c 000198 jam 0x10 ,0x896f 
0x3d 000199 jam 0 ,core_syn_loopdiv_dsm_cfg 
0x3e 000200 jam 0x03 ,core_rx_lna_cfg3 
0x3f 000201 branch initialize_radio_cont + 1 
:      000203 p_le_enable_phy_by_pdata:
0x40 000204 copy temp ,pdata 
0x41 000205 bbit1 bit_le_1m_phy ,le_enable 
0x42 000206 bbit1 bit_le_2m_phy ,le_enable_2m 
0x43 000207 bbit0 bit_le_coded_phy ,le_enable 
0x44 000208 bbit1 bit_le_coded_phy_s8 ,p_le_enable_coded_s8 
0x45 000209 bbit1 bit_le_coded_phy_s2 ,le_enable_coded_s2 
0x46 000210 branch le_enable 
:      000212 p_le_enable_coded_s8:
0x47 000213 call p_le_enable_coded 
0x48 000214 set1 mark_ble_lr_s8 ,mark 
0x49 000215 rtn 
:      000216 p_le_enable_coded:
0x4a 000217 call le_enable 
0x4b 000218 set1 mark_ble_lr ,mark 
0x4c 000219 set0 mark_ble_lr_s8 ,mark 
0x4d 000220 jam 0x05 ,0x8901 
0x4e 000221 jam 0x80 ,0x8920 
0x4f 000222 jam 0x24 ,0x8930 
0x50 000223 jam 0x0a ,0x8934 
0x51 000224 rtn 
:      000227 p_timer_init:
0x52 000228 fetch 4 ,mem_last_clkn_temp 
0x53 000229 store 4 ,mem_last_clkn 
0x54 000230 rtn 
:      000232 p_timer_check:
0x55 000233 fetcht 4 ,mem_last_clkn 
0x56 000234 rshift clkn_bt ,pdata 
0x57 000235 store 4 ,mem_last_clkn_temp 
0x58 000236 branch timer_check + 3 
:      000240 p_ldo_abb_en_init:
0x59 000241 fetch 1 ,core_rf_ldo_en0 
0x5a 000242 set1 3 ,pdata 
0x5b 000243 store 1 ,core_rf_ldo_en0 
0x5c 000244 nop 1200 
0x5d 000245 set0 3 ,pdata 
0x5e 000246 store 1 ,core_rf_ldo_en0 
0x5f 000247 rtn 
:      000249 p_shutdown_radio:
0x60 000250 call rf_debug_shutdown_radio_line 
0x61 000251 force 0x08 ,radio_ctrl 
0x62 000252 force 0 ,radio_ctrl 
0x63 000253 disable is_rx 
0x64 000254 disable is_tx 
0x65 000255 pulse packet_end 
0x66 000256 jam 0x5 ,modem_en 
0x67 000257 nop 2 
0x68 000258 jam 0x0 ,modem_en 
0x69 000259 call set_sync_on 
0x6a 000260 jam 0 ,core_syn_en 
0x6b 000261 jam 0x80 ,core_rf_ldo_en0 
0x6c 000262 fetch 1 ,core_clkpll_cfg6 
0x6d 000263 set0 7 ,pdata 
0x6e 000264 store 1 ,core_clkpll_cfg6 
0x6f 000265 jam 0 ,core_rf_ldo_en1 
0x70 000266 branch gain_control 
:      000268 p_le_slave_match:
0x71 000269 fetch 1 ,mem_le_md_count 
0x72 000270 pincrease 1 
0x73 000271 store 1 ,mem_le_md_count 
0x74 000272 beq le_md_max_count ,le_slave_cont 
0x75 000273 call le_acknowledge 
0x76 000274 call le_prepare_tx 
0x77 000275 fetch 1 ,mem_le_tx_phy 
0x78 000276 call le_enable_phy_by_pdata 
0x79 000277 call le_transmit 
0x7a 000278 branch le_slave_match + 10 
:      000281 p_le_slave_unsync:
0x7b 000282 call end_of_packet 
0x7c 000283 call le_lpm_set_mult 
0x7d 000284 branch calc_clke_offset 
:      000287 p_le_receive_on_attempt:
0x7e 000288 enable swfine 
0x7f 000289 arg param_t_ifs_150us + param_20ms_init + param_sync_time_difference ,temp 
0x80 000290 fetch 1 ,mem_system_clk 
0x81 000291 imul32 temp ,temp 
0x82 000292 rshift pdata ,pdata 
0x83 000293 iadd temp ,stop_watch 
0x84 000294 branch le_receive_on_attempt + 6 
:      000296 p_adc_init_data:
0x85 000297 rtn wake 
0x86 000298 setarg otp_offset_adc_param 
0x87 000299 branch adc_init_data + 2 
:      000302 p_vdd_calculate_by_mode:
0x88 000303 fetch 1 ,mem_adc_config_flag 
0x89 000304 beq adc_config_vinlpm ,vdd_calculate_vinlpm 
0x8a 000305 beq adc_config_hvin ,vdd_calculate_hvin 
0x8b 000306 beq adc_config_gpio ,p_vdd_calculate_io 
0x8c 000307 rtn 
:      000310 p_vdd_calculate_io:
0x8d 000311 setarg 2000 
0x8e 000312 store 2 ,mem_reference_voltage 
0x8f 000313 fetcht 2 ,mem_3v_adc_io_data 
0x90 000314 fetch 2 ,mem_1v_adc_io_data 
0x91 000315 arg 3000 ,regc 
0x92 000316 branch p_vdd_calculate 
:      000319 p_vdd_calculate:
0x93 000320 isub temp ,rega 
0x94 000321 fetch 2 ,mem_adc_current_value 
0x95 000322 isub temp ,pdata 
0x96 000323 nbranch vdd_calculate1 ,positive 
0x97 000324 fetcht 2 ,mem_reference_voltage 
0x98 000325 imul32 temp ,regb 
0x99 000326 copy regc ,pdata 
0x9a 000327 imul32 rega ,pdata 
0x9b 000328 isub regb ,pdata 
0x9c 000329 nbranch set_pdata_0 ,positive 
0x9d 000330 branch vdd_calculate2 
:      000339 p_patch:
0x9e 000340 branch loop 
:      000342 p_patch_ext:
0x9f 000343 branch loop 
:      000345 p_idle_process_ext:
0xa0 000346 call g24_sim_tx_with_datalen_set 
0xa1 000347 call g24_recved_ack_parse 
0xa2 000349 call g24_sim_rx 
0xa3 000350 call g24_rx_parse 
0xa4 000351 rtn 
:      000353 p_cb_event_timer_ext:
0xa5 000354 call p_24g_tx_state_timer 
0xa6 000355 rtn 
:      000363 g24_sim_rx:
0xa7 000364 fetch 1 ,mem_le_24g_rx_enable 
0xa8 000365 rtn blank 
0xa9 000366 set1 mark_24g_rxmode ,mark 
0xaa 000367 setarg 0x7530 
0xab 000368 store 2 ,mem_24g_rx_window 
0xac 000369 jam 1 ,mem_24g_ackpayload_enable 
0xad 000371 fetch 1 ,mem_24g_rx_phy 
0xae 000372 call le_enable_phy_by_pdata 
0xaf 000373 call g24_syncword_crc8 
0xb0 000374 call g24_receive_transmit_ack + 1 
0xb1 000375 call g24_read_len_pid_crc 
0xb2 000376 call g24_end_of_packet 
0xb3 000377 nrtn user3 
:      000378 g24_sim_rx_success:
0xb4 000379 jam 1 ,mem_le_24g_rx_recv_flag 
0xb5 000380 rtn 
:      000382 p_cb_24g_ackpayload:
0xb6 000383 jam len_of_ack_payload ,mem_24g_datalen 
0xb7 000384 setarg 0x111111 
0xb8 000385 store 3 ,mem_24g_txbuf 
0xb9 000386 rtn 
:      000389 g24_rx_parse:
0xba 000390 fetch 1 ,mem_le_24g_rx_recv_flag 
0xbb 000391 rtn blank 
0xbc 000392 jam 0 ,mem_le_24g_rx_recv_flag 
0xbd 000393 rtn 
:      000399 g24_sim_tx_with_datalen_set:
0xbe 000400 fetch 1 ,mem_le_24g_tx_enable 
0xbf 000401 rtn blank 
0xc0 000402 set0 mark_24g_rxmode ,mark 
0xc1 000403 jam 2 ,mem_24g_datalen 
0xc2 000404 branch g24_sim_tx 
:      000405 g24_sim_tx:
0xc3 000406 fetch 1 ,mem_24g_tx_phy 
0xc4 000407 call le_enable_phy_by_pdata 
0xc5 000408 call g24_syncword_crc8 
0xc6 000409 jam 0x88 ,mem_rssi_hex 
0xc7 000410 call g24_transmit_prep 
0xc8 000411 call g24_transmit_receive_ack 
0xc9 000412 call g24_end_of_packet 
0xca 000413 fetch 1 ,mem_24g_no_ack 
0xcb 000414 beq no_ack_24g ,p_g24_transmit_no_ack 
0xcc 000415 nbranch p_g24_transmit_no_ack ,user3 
0xcd 000416 nbranch p_g24_transmit_no_ack ,sync 
0xce 000417 call p_24g_recved_ack 
:      000418 p_g24_transmit_no_ack:
0xcf 000419 random pdata 
0xd0 000420 arg 0x1ff ,temp 
0xd1 000421 iand temp ,pdata 
0xd2 000422 add pdata ,250 ,pdata 
0xd3 000423 branch delay 
:      000425 p_24g_recved_ack:
0xd4 000426 jam 1 ,mem_le_24g_recv_ack_flag 
0xd5 000427 rtn 
:      000429 g24_recved_ack_parse:
0xd6 000430 fetch 1 ,mem_le_24g_recv_ack_flag 
0xd7 000431 rtn blank 
0xd8 000432 jam 0 ,mem_le_24g_recv_ack_flag 
0xd9 000433 rtn 
:      000438 p_24g_tx_state_timer_init:
0xda 000439 setarg 10 
0xdb 000440 store 2 ,mem_le_24g_tx_state_timeout 
0xdc 000441 rtn 
:      000443 p_24g_tx_state_timer:
0xdd 000444 arg mem_le_24g_tx_state_timeout ,regc 
0xde 000445 arg p_24g_tx_state_timeout ,regb 
0xdf 000446 branch timer_single_step_2b 
:      000447 p_24g_tx_state_timeout:
0xe0 000448 call p_24g_tx_state_timer_init 
0xe1 000450 fetch 1 ,mem_le_24g_tx_enable 
0xe2 000451 beq 1 ,p_24g_tx_disable 
0xe3 000452 jam 1 ,mem_le_24g_tx_enable 
0xe4 000453 fetch 2 ,mem_24g_txbuf 
0xe5 000454 pincrease 1 
0xe6 000455 store 2 ,mem_24g_txbuf 
0xe7 000456 rtn 
:      000458 p_24g_tx_disable:
0xe8 000459 jam 0 ,mem_le_24g_tx_enable 
0xe9 000460 rtn 
:      000471 p_app_init_ext:
0xea 000473 setarg p_idle_process 
0xeb 000474 store 2 ,mem_cb_idle_process 
0xec 000476 setarg p_cb_event_timer 
0xed 000477 store 2 ,mem_cb_event_timer 
0xee 000479 setarg p_cb_24g_ackpayload 
0xef 000480 store 2 ,mem_cb_24g_ackpayload 
0xf0 000483 jam cmd_g24ack_disable ,mem_24g_no_ack 
0xf1 000485 jam 1 ,mem_le_24g_rx_enable 
0xf2 000487 call p_24g_tx_state_timer_init 
0xf3 000488 rtn 
